"use strict";(self["webpackChunkwebsite"]=self["webpackChunkwebsite"]||[]).push([[80],{34350:function(t,e,n){n.d(e,{Z:function(){return o}});var a=n(4367),r=(n(9653),n(55978)),i=n(73325),s=(0,i.Z)(r.Z),o=s.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return(0,a.Z)({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},r.Z.options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{autoGrow:function(t){var e=this;this.$nextTick((function(){var n;t?e.calculateInputHeight():null==(n=e.$refs.input)||n.style.removeProperty("height")}))},lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var e=t.scrollHeight,n=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(n,e)+"px"}},genInput:function(){var t=r.Z.options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){r.Z.options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},80994:function(t,e,n){n.d(e,{Dx:function(){return s},YF:function(){return o},_C:function(){return u},dm:function(){return m},hb:function(){return l},jL:function(){return d},nC:function(){return c},yC:function(){return p}});var a=n(62032),r=n(16198),i=(n(35666),n(76051)),s=function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.ZP.post("/users/0/locations",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(e,n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.ZP.put("users/0/locations/".concat(e),n);case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),c=function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.ZP.get("users/0/locations");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.ZP.get("locations/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(e,n){var r,s,o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=new FormData,s=(0,a.Z)(n);try{for(s.s();!(o=s.n()).done;)c=o.value,r.append("image[]",c)}catch(l){s.e(l)}finally{s.f()}return t.next=5,i.ZP.post("users/0/locations/".concat(e,"/images"),r);case 5:return u=t.sent,t.abrupt("return",u.data);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),d=function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(e,n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.ZP["delete"]("users/0/locations/".concat(e,"/images"),{image:n});case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),p=function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.ZP.get("/locations/search",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.ZP.get("users/".concat(e,"/locations"));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},61747:function(t,e,n){n.d(e,{Io:function(){return c},MW:function(){return o},bG:function(){return u},gK:function(){return s},vW:function(){return i}});var a=n(16198),r=(n(35666),n(76051)),i=function(){var t=(0,a.Z)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.ZP.get("/messages");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=(0,a.Z)(regeneratorRuntime.mark((function t(e,n,a,i){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.ZP.post("/messages",{message:e,location_id:n,booking_inputs:a,has_flexible_dates:i});case 2:return s=t.sent,t.abrupt("return",s.data);case 4:case"end":return t.stop()}}),t)})));return function(e,n,a,r){return t.apply(this,arguments)}}(),o=function(){var t=(0,a.Z)(regeneratorRuntime.mark((function t(e,n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.ZP.post("/messages/compose-from-booking",{message:n,booking_id:e});case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),c=function(){var t=(0,a.Z)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.ZP.get("/messages/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=(0,a.Z)(regeneratorRuntime.mark((function t(e,n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.ZP.post("messages/".concat(e),{message:n});case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},1091:function(t,e,n){n.d(e,{Z:function(){return D}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-row",[n("v-col",[n("span",{staticClass:"headline font-weight-bold"},[t._v(" AED "+t._s(t.getRangeFromName(t.bookingDetails.selectedCrewRange?t.bookingDetails.selectedCrewRange:"1 - 5").prices[t.bookingDetails.selectedActivity?t.bookingDetails.selectedActivity:"EVENT"])+" ")]),t._v("/hr ")]),n("v-col",{staticClass:"text-right"},[t._v(" "+t._s(t.location.minimum_rental_hours)+" hr. minimum ")])],1),t._l(t.bookingDetails.selectedDates,(function(e,a){return n("div",{key:a+e.day},[n("v-row",{staticClass:"mt-3 pb-0"},[n("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"4"}},[n("vc-date-picker",{ref:"day-picker-"+a,refInFor:!0,attrs:{mode:"date","min-date":new Date,"disabled-dates":t.blockedDays,"available-dates":t.availableDays,dense:"",popover:{visibility:"none"}},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.inputValue,r=e.inputEvents,i=e.togglePopover;return[n("v-card-actions",{staticClass:"my-0 py-0"},[n("v-text-field",t._g({staticClass:"cursor-pointer",attrs:{placeholder:"Date",value:t.getMediumDate(a),"hide-details":!0,readonly:"",dense:""},on:{click:i}},r))],1)]}}],null,!0),model:{value:e.day,callback:function(n){t.$set(e,"day",n)},expression:"bookingDate.day"}})],1),n("v-col",{staticClass:"ma-0 pa-0"},[n("v-card-actions",{staticClass:"my-0 py-0"},[n("v-select",{attrs:{items:t.startDateMenu,placeholder:"start date","append-icon":"mdi-chevron-right","hide-details":!0,dense:""},on:{change:function(t){e.end=null}},model:{value:e.start,callback:function(n){t.$set(e,"start",n)},expression:"bookingDate.start"}}),n("v-select",{attrs:{items:t.endDateMenu(e.start),placeholder:"End date","append-icon":t.bookingDetails.selectedDates.length>1?"mdi-close":"","hide-details":!0,disabled:!e.start&&!1,dense:""},on:{"click:append":function(n){t.bookingDetails.selectedDates.splice(t.bookingDetails.selectedDates.indexOf(e),1)}},model:{value:e.end,callback:function(n){t.$set(e,"end",n)},expression:"bookingDate.end"}})],1)],1)],1),t.isNextDay(e.end)?n("v-row",{staticClass:"mt-0 pt-0"},[n("v-col",[n("div",{staticClass:"caption orange--text"},[t._v("Booking ends the next day")])])],1):t._e()],1)})),n("v-row",{staticClass:"mt-3 pt-0"},[n("v-col",{staticClass:"ma-0 pa-0"},[n("v-card-actions",[n("p",{staticClass:"green--text add-day-button",attrs:{text:""},on:{click:t.addDay}},[t._v("Add Day")]),n("v-spacer"),n("p",{staticClass:"grey--text"},[t._v("Total hours: "+t._s(t.totalHours))])],1)],1)],1),t.totalHours>0&&t.location.minimum_rental_hours>t.totalHours?n("v-row",{staticClass:"mt-0 pt-0"},[n("v-col",{staticClass:"my-1 py-0"},[n("v-alert",{staticClass:"my-0",attrs:{type:"warning",color:"orange",text:"",border:"left",prominent:"",dense:"",value:!0}},[n("p",[t._v(t._s(t.location.minimum_rental_hours)+" hr. minimum")]),t._v(" You can't submit a request that is less than the hourly minimum. ")])],1)],1):t._e(),n("v-row",{staticClass:"mt-2 pt-0"},[n("v-col",{staticClass:"mb-2 pt-0"},[n("v-select",{attrs:{items:t.location.pricing.ranges,placeholder:"Cast & crew","item-value":"name",dense:"","hide-details":""},scopedSlots:t._u([{key:"selection",fn:function(e){return[t._v(" "+t._s("PRODUCTION"==t.bookingDetails.selectedActivity?"Cast & crew":"Attendees")+" : "+t._s(e.item.name)+" people ")]}},{key:"item",fn:function(e){return[t._v(" "+t._s(e.item.name)+" people "),n("v-spacer"),t._v(" AED "+t._s(e.item.prices[t.bookingDetails.selectedActivity?t.bookingDetails.selectedActivity:"EVENT"])+" /hr ")]}}]),model:{value:t.bookingDetails.selectedCrewRange,callback:function(e){t.$set(t.bookingDetails,"selectedCrewRange",e)},expression:"bookingDetails.selectedCrewRange"}})],1)],1),n("v-row",{staticClass:"mt-0 pt-0"},[n("v-col",{staticClass:"mb-2 pt-0"},[n("v-select",{attrs:{items:t.locationActivities,placeholder:"Activity Type","item-value":"id",dense:"","hide-details":""},scopedSlots:t._u([{key:"selection",fn:function(e){return[t._v(" Type: "+t._s(e.item.name)+" ")]}},{key:"item",fn:function(e){return[n("div",[t._v(" "+t._s(e.item.name)+" "),n("p",{staticClass:"caption"},[t._v(" "+t._s(e.item.description)+" ")])])]}}]),model:{value:t.bookingDetails.selectedActivity,callback:function(e){t.$set(t.bookingDetails,"selectedActivity",e)},expression:"bookingDetails.selectedActivity"}})],1)],1)],2)},r=[],i=n(62032),s=(n(38862),n(92222),n(41539),n(39714),n(73210),n(68309),n(33161)),o=n.n(s),c={props:{},data:function(){return{}},created:function(){},computed:{bookingDetails:{get:function(){return this.$store.getters["Bookings/currentBooking"].bookingDetails},set:function(t){JSON.stringify(this.$store.getters["Bookings/currentBooking"].bookingDetails)!=JSON.stringify(t)&&this.$store.commit("Bookings/setCurrentBooking",{location:this.location,bookingDetails:t})}},location:{get:function(){return this.$store.getters["Bookings/currentBooking"].location},set:function(t){this.$store.commit("Bookings/setCurrentBooking",{location:t,bookingDetails:this.bookingDetails})}},crewSelectMenu:function(){var t,e=[],n=(0,i.Z)(this.location.pricing.ranges);try{for(n.s();!(t=n.n()).done;){var a=t.value;e.push(a)}}catch(r){n.e(r)}finally{n.f()}return e},locationActivities:function(){var t=[{id:"PRODUCTION",name:this.$t("models.location.activities.PRODUCTION.name"),description:this.$t("models.location.activities.PRODUCTION.description")},{id:"EVENT",name:this.$t("models.location.activities.EVENT.name"),description:this.$t("models.location.activities.EVENT.description")},{id:"MEETING",name:this.$t("models.location.activities.MEETING.name"),description:this.$t("models.location.activities.MEETING.description")}];return t},startDateMenu:function(){for(var t=[],e=6;e<24;e++){var n=(new(o().Date)).reset();n.addHours(e),t.push(n.format("{hh}:{mm} %P").raw)}return t},blockedDays:function(){var t=[];for(var e in this.location.availability_calendar.blockedWeekDays.length>0&&t.push({weekdays:this.location.availability_calendar.blockedWeekDays}),this.location.availability_calendar.forcedBlockedDays)t.push(this.location.availability_calendar.forcedBlockedDays[e]);return[].concat(t)},availableDays:function(){var t=[];for(var e in this.location.availability_calendar.forcedAvailableDays)new(o().Date)(this.location.availability_calendar.forcedAvailableDays[e]).isPast()||t.push(this.location.availability_calendar.forcedAvailableDays[e]);return[].concat(t)},totalHours:function(){var t,e=0,n=(0,i.Z)(this.bookingDetails.selectedDates);try{for(n.s();!(t=n.n()).done;){var a=t.value;e+=this.diffInHours(a.start,a.end)}}catch(r){n.e(r)}finally{n.f()}return e}},methods:{endDateMenu:function(t){if(!t)return[];for(var e=[{header:"End Time",divider:!0}],n=parseInt(new(o().Date)(t).getHours().raw),a=7;a<24;a++){var r=(new(o().Date)).reset();r.addHours(a),n<a&&e.push(r.format("{hh}:{mm} %P").raw)}e.push("11:59 pm"),e.push({header:"Next Day",divider:!0});for(var i=1;i<7;i++){var s=(new(o().Date)).reset();s.addHours(i),e.push(s.format("{hh}:{mm} %P").raw)}return e},isNextDay:function(t){if(!t)return!1;switch(t.toString().toLowerCase()){case"01:00 am":case"02:00 am":case"03:00 am":case"04:00 am":case"05:00 am":case"06:00 am":return!0;default:return!1}},diffInHours:function(t,e){if(!t||!e)return 0;var n=new(o().Date)(t),a=new(o().Date)(e);return this.isNextDay(e)&&a.addDays(1),Math.ceil(Math.abs(a.raw-n.raw)/36e5)},getRangeFromName:function(t){if(!t||!this.location||!this.location.pricing||!this.location.pricing.ranges)return{prices:[{}]};t=t.trim();var e,n=(0,i.Z)(this.location.pricing.ranges);try{for(n.s();!(e=n.n()).done;){var a=e.value;if(a.name==t)return a}}catch(r){n.e(r)}finally{n.f()}return!1},getShortDate:function(t){if(t)return new(o().Date)(t).format("%d/%m/%Y")},getMediumDate:function(t){if(t)return new(o().Date)(t).medium()},isDayAvailable:function(){return!0},addDay:function(){var t=Object.assign({},this.bookingDetails),e=t.selectedDates[t.selectedDates.length-1];if(e.day){var n=new(o().Date)(e.day.toString()).addDays(1).medium().raw;t.selectedDates.push({day:n,start:e.start,end:e.end}),this.bookingDetails=Object.assign({},t)}else this.$refs["day-picker-".concat(t.selectedDates.length-1)][0].togglePopover()}},watch:{}},u=c,l=n(1001),d=n(43453),p=n.n(d),m=n(35098),f=n(37118),v=n(82102),h=n(62877),g=n(10344),y=n(99762),k=n(55978),w=(0,l.Z)(u,a,r,!1,null,"60f3541a",null),D=w.exports;p()(w,{VAlert:m.Z,VCardActions:f.h7,VCol:v.Z,VRow:h.Z,VSelect:g.Z,VSpacer:y.Z,VTextField:k.Z})},44005:function(t,e,n){n.d(e,{Z:function(){return k}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.bookingDetails.selectedCrewRange&&t.totalHours>0&&t.bookingDetails.selectedActivity&&t.totalHours>0&&t.location.minimum_rental_hours<=t.totalHours?n("v-row",{staticClass:"mt-0 pt-0"},[n("v-col",[n("div",{staticClass:"subtitle-2 font-weight-bold mx-2"},[t._v("Price")]),n("v-card-actions",{staticClass:"py-0 my-0 mb-1"},[t._v(" AED "+t._s(t.getRangeFromName(t.bookingDetails.selectedCrewRange?t.bookingDetails.selectedCrewRange:"1 - 5").prices[t.bookingDetails.selectedActivity])+" × "+t._s(t.totalHours)+" hours "),n("v-spacer"),t._v(" "+t._s("AED"+t.rentPrice.toLocaleString())+" ")],1),t._l(t.systemFees,(function(e,a){return n("v-card-actions",{key:"system_fee_"+a,staticClass:"py-0 my-0 mb-1"},[t._v(" "+t._s(e.name)+" "),n("v-spacer"),t._v(" "+t._s("AED"+e.amount.toLocaleString())+" ")],1)})),t._l(t.bookingDetails.addOns,(function(e,a){return n("v-card-actions",{key:"add_ons_fee_"+a,staticClass:"py-0 my-0 mb-1"},[t._v(" "+t._s(e.name)+" "),n("v-spacer"),t._v(" "+t._s("AED"+e.amount.toLocaleString())+" ")],1)})),n("v-divider",{staticClass:"my-2",staticStyle:{"background-color":"green"}}),n("v-card-actions",{staticClass:"py-0 my-0"},[n("span",{staticClass:"title"},[t._v(" Total ")]),n("v-spacer"),t._v(" "+t._s("AED"+t.totalPrice.toLocaleString())+" ")],1)],2)],1):t._e()],1)},r=[],i=n(62032),s=(n(73210),n(68309),n(41539),n(39714),n(33161)),o=n.n(s),c={props:{},created:function(){},methods:{diffInHours:function(t,e){if(!t||!e)return 0;var n=new(o().Date)(t),a=new(o().Date)(e);return this.isNextDay(e)&&a.addDays(1),Math.ceil(Math.abs(a.raw-n.raw)/36e5)},getRangeFromName:function(t){t=t.trim();var e,n=(0,i.Z)(this.location.pricing.ranges);try{for(n.s();!(e=n.n()).done;){var a=e.value;if(a.name==t)return a}}catch(r){n.e(r)}finally{n.f()}return!1},isNextDay:function(t){if(!t)return!1;switch(t.toString().toLowerCase()){case"01:00 am":case"02:00 am":case"03:00 am":case"04:00 am":case"05:00 am":case"06:00 am":return!0;default:return!1}}},computed:{bookingDetails:{get:function(){return this.$store.getters["Bookings/currentBooking"].bookingDetails},set:function(t){this.$store.commit("Bookings/setCurrentBooking",{location:this.location,bookingDetails:t})}},location:{get:function(){return this.$store.getters["Bookings/currentBooking"].location},set:function(t){this.$store.commit("Bookings/setCurrentBooking",{location:t,bookingDetails:this.bookingDetails})}},rentPrice:function(){return this.getRangeFromName(this.bookingDetails.selectedCrewRange?this.bookingDetails.selectedCrewRange:"1 - 5").prices[this.bookingDetails.selectedActivity]*this.totalHours},totalPrice:function(){var t=0;return t+=this.rentPrice,t+=this.totalSystemFees,t+=this.totalAddOnsFees,t},totalSystemFees:function(){var t,e=0,n=(0,i.Z)(this.systemFees);try{for(n.s();!(t=n.n()).done;){var a=t.value;e+=a.amount}}catch(r){n.e(r)}finally{n.f()}return e},totalAddOnsFees:function(){var t,e=0,n=(0,i.Z)(this.bookingDetails.addOns);try{for(n.s();!(t=n.n()).done;){var a=t.value;e+=a.amount}}catch(r){n.e(r)}finally{n.f()}return e},totalHours:function(){var t,e=0,n=(0,i.Z)(this.bookingDetails.selectedDates);try{for(n.s();!(t=n.n()).done;){var a=t.value;e+=this.diffInHours(a.start,a.end)}}catch(r){n.e(r)}finally{n.f()}return e},systemFees:function(){var t=[{id:"PROCESSING_FEES",name:"Processing Fees",amount:250,currency_code:"AED",type:"fixed"}];return t}}},u=c,l=n(1001),d=n(43453),p=n.n(d),m=n(37118),f=n(82102),v=n(11418),h=n(62877),g=n(99762),y=(0,l.Z)(u,a,r,!1,null,null,null),k=y.exports;p()(y,{VCardActions:m.h7,VCol:f.Z,VDivider:v.Z,VRow:h.Z,VSpacer:g.Z})}}]);
//# sourceMappingURL=80-legacy.a3b56ea4.js.map